"0",""
"0","# Original data"
"0","unit_names <- c("
"0","  ""ug/L"", ""ppm"", ""mg/L"", ""AI ug/L"", ""ppb"","
"0","  ""AI ppb"", ""mmol/L"", ""AI ppm"", ""ng/L"", ""mg/kg bdwt"","
"0","  ""mg/kg"", ""uM"", ""AI mg/L"", ""ul/L"", ""ug/kg bdwt"","
"0","  ""ng/ml"", ""uCI/g org"", ""ml/L"", ""g/kg"""
"0",")"
"0",""
"0","conversion_factors <- c("
"0","  1, 1e3, 1e3, 1, 1,"
"0","  1, NA, 1e3, 1e-3, NA,"
"0","  NA, NA, 1e3, NA, NA,"
"0","  1, NA, 1000, NA"
"0",")"
"0",""
"0","# Remove NAs"
"0","unit_conversions.df <- data.frame(unit_names, conversion_factors) %>% filter(!is.na(conversion_factors))"
"0",""
"0","cleaned_results <- tests.df %>%"
"0","  left_join(unit_conversions.df, by = join_by(conc1_unit == unit_names)) %>%"
"0","  mutate(conc1_mean = conc1_mean %>% as.numeric()) %>%"
"0","  relevant_cols()"
"2","Warning: [38;5;251mThere was 1 warning in `mutate()`.[39m
[38;5;251m[36mâ„¹[38;5;251m In argument: `conc1_mean = conc1_mean %>% as.numeric()`.[39m
Caused by warning in `conc1_mean %>% as.numeric()`:
[33m![39m NAs introduced by coercion"
"0","cleaned_results.2 <- cleaned_results %>%"
"0","  mutate(conc_ug_L = conversion_factors * conc1_mean) %>% left_join(endpoint_classifications)# %>%"
"2","Joining with `by = join_by(endpoint)`"
"0","cleaned_results.3 <- cleaned_results.2 %>%"
"0","  rename(dose = conc_ug_L) %>% "
"0","  distinct() %>% filter(!is.na(endpoint_type))"
"0","# join with taxonomy data"
"0",""
